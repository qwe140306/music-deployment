(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75dfc85a"],{"052f":function(e,t,n){},"0cb2":function(e,t,n){var r=n("7b0b"),a=Math.floor,c="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,i=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,o,l,u){var f=n+e.length,p=o.length,d=i;return void 0!==l&&(l=r(l),d=s),c.call(u,d,(function(r,c){var s;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(f);case"<":s=l[c.slice(1,-1)];break;default:var i=+c;if(0===i)return r;if(i>p){var u=a(i/10);return 0===u?r:u<=p?void 0===o[u-1]?c.charAt(1):o[u-1]+c.charAt(1):r}s=o[i-1]}return void 0===s?"":s}))}},"107c":function(e,t,n){var r=n("d039"),a=n("da84"),c=a.RegExp;e.exports=r((function(){var e=c("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,n){var r=n("825a"),a=n("1626"),c=n("c6b6"),s=n("9263");e.exports=function(e,t){var n=e.exec;if(a(n)){var i=n.call(e,t);return null!==i&&r(i),i}if("RegExp"===c(e))return s.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")}},5319:function(e,t,n){"use strict";var r=n("d784"),a=n("d039"),c=n("825a"),s=n("1626"),i=n("a691"),o=n("50c4"),l=n("577e"),u=n("1d80"),f=n("8aa5"),p=n("dc4a"),d=n("0cb2"),v=n("14c3"),m=n("b622"),x=m("replace"),h=Math.max,g=Math.min,b=function(e){return void 0===e?e:String(e)},w=function(){return"$0"==="a".replace(/./,"$0")}(),k=function(){return!!/./[x]&&""===/./[x]("a","$0")}(),$=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));r("replace",(function(e,t,n){var r=k?"$":"$0";return[function(e,n){var r=u(this),a=void 0==e?void 0:p(e,x);return a?a.call(e,r,n):t.call(l(r),e,n)},function(e,a){var u=c(this),p=l(e);if("string"===typeof a&&-1===a.indexOf(r)&&-1===a.indexOf("$<")){var m=n(t,u,p,a);if(m.done)return m.value}var x=s(a);x||(a=l(a));var w=u.global;if(w){var k=u.unicode;u.lastIndex=0}var $=[];while(1){var I=v(u,p);if(null===I)break;if($.push(I),!w)break;var S=l(I[0]);""===S&&(u.lastIndex=f(p,o(u.lastIndex),k))}for(var y="",E=0,R=0;R<$.length;R++){I=$[R];for(var _=l(I[0]),C=h(g(i(I.index),p.length),0),O=[],T=1;T<I.length;T++)O.push(b(I[T]));var A=I.groups;if(x){var j=[_].concat(O,C,p);void 0!==A&&j.push(A);var D=l(a.apply(void 0,j))}else D=d(_,p,C,O,A,a);C>=E&&(y+=p.slice(E,C)+D,E=C+_.length)}return y+p.slice(E)}]}),!$||!w||k)},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("577e"),a=n("ad6d"),c=n("9f7f"),s=n("5692"),i=n("7c73"),o=n("69f3").get,l=n("fce3"),u=n("107c"),f=RegExp.prototype.exec,p=s("native-string-replace",String.prototype.replace),d=f,v=function(){var e=/a/,t=/b*/g;return f.call(e,"a"),f.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),m=c.UNSUPPORTED_Y||c.BROKEN_CARET,x=void 0!==/()??/.exec("")[1],h=v||x||m||l||u;h&&(d=function(e){var t,n,c,s,l,u,h,g=this,b=o(g),w=r(e),k=b.raw;if(k)return k.lastIndex=g.lastIndex,t=d.call(k,w),g.lastIndex=k.lastIndex,t;var $=b.groups,I=m&&g.sticky,S=a.call(g),y=g.source,E=0,R=w;if(I&&(S=S.replace("y",""),-1===S.indexOf("g")&&(S+="g"),R=w.slice(g.lastIndex),g.lastIndex>0&&(!g.multiline||g.multiline&&"\n"!==w.charAt(g.lastIndex-1))&&(y="(?: "+y+")",R=" "+R,E++),n=new RegExp("^(?:"+y+")",S)),x&&(n=new RegExp("^"+y+"$(?!\\s)",S)),v&&(c=g.lastIndex),s=f.call(I?n:g,R),I?s?(s.input=s.input.slice(E),s[0]=s[0].slice(E),s.index=g.lastIndex,g.lastIndex+=s[0].length):g.lastIndex=0:v&&s&&(g.lastIndex=g.global?s.index+s[0].length:c),x&&s&&s.length>1&&p.call(s[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s&&$)for(s.groups=u=i(null),l=0;l<$.length;l++)h=$[l],u[h[0]]=s[h[1]];return s}),e.exports=d},"9f7f":function(e,t,n){var r=n("d039"),a=n("da84"),c=a.RegExp;t.UNSUPPORTED_Y=r((function(){var e=c("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=c("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var r=n("23e7"),a=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},b091:function(e,t,n){"use strict";n("052f")},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),a=n("9263"),c=n("d039"),s=n("b622"),i=n("9112"),o=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,u){var f=s(e),p=!c((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),d=p&&!c((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!p||!d||n){var v=/./[f],m=t(f,""[e],(function(e,t,n,r,c){var s=t.exec;return s===a||s===l.exec?p&&!c?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));r(String.prototype,e,m[0]),r(l,f,m[1])}u&&i(l[f],"sham",!0)}},d9c9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("van-nav-bar",{attrs:{title:"登陆","left-arrow":""},on:{"click-left":e.onClickLeft}}),n("div",{staticClass:"login-form"},[e._m(0),n("van-form",{attrs:{"show-error-message":!1,center:"","label-width":"200px"},on:{submit:e.onSubmit}},[n("van-cell-group",[n("van-field",{attrs:{placeholder:"请输入手机号",maxlength:"11",name:"phone",rules:[{required:!0}]},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),e.isSms?n("div",{staticClass:"sms"},[n("van-field",{attrs:{name:"captcha",center:"",clearable:"",placeholder:"短信验证码",maxlength:"6",rules:[{required:!0}]},scopedSlots:e._u([{key:"button",fn:function(){return[e.sendSms?n("van-button",{staticClass:"sms-btn",attrs:{size:"small",color:"#f6f6f6"},on:{click:function(t){return t.preventDefault(),e.getSms.apply(null,arguments)}}},[e._v("发送验证码 ")]):n("van-button",{staticClass:"sms-btn",attrs:{disabled:"",size:"small",color:"#f6f6f6"},on:{click:function(t){return t.preventDefault(),e.getSms.apply(null,arguments)}}},[e._v(" "+e._s(e.smsTime)+" ")])]},proxy:!0}],null,!1,3499321433),model:{value:e.captcha,callback:function(t){e.captcha=t},expression:"captcha"}})],1):n("van-field",{attrs:{type:"password",name:"password",placeholder:"请输入密码",rules:[{required:!0}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("div",{staticClass:"submit"},[n("van-button",{attrs:{round:"",block:"",color:"#e04439","native-type":"submit"}},[e._v(" 登录 ")]),e._v(" · ")],1)],1),n("van-row",{attrs:{type:"flex",justify:"space-around"}},[n("van-col",{attrs:{span:"6"},on:{click:e.handleSwitch}},[e._v(" "+e._s(e.isSms?"密码登录":"验证码登录")+" ")]),n("van-col",{attrs:{span:"6"}},[e._v(" 忘记密码? ")])],1)],1)],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text"},[n("p",{staticClass:"welcome"},[e._v("登录体验更多精彩")]),n("p",{staticClass:"welcome-tip"},[e._v("未注册手机号登录后将自动创建账号")])])}],c=n("5530"),s=n("1da1"),i=(n("ac1f"),n("5319"),n("96cf"),n("4360")),o=n("5d2d"),l={name:"Login",data:function(){return{phone:"19120550133",password:"qq1403065002",captcha:"",isSms:!0,smsTime:60,sendSms:!0,timer:0}},methods:{handleSwitch:function(){this.isSms=!this.isSms,this.sms="",this.password=""},getSms:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(60===e.smsTime){t.next=2;break}return t.abrupt("return");case 2:if(11===e.phone.length){t.next=4;break}return t.abrupt("return",e.$toast.fail("请输入正确手机号"));case 4:return t.next=6,e.$axios.post("/captcha/sent",{phone:e.phone});case 6:n=t.sent,r=n.data,e.sendSms=!1,200!==r.code&&(clearInterval(e.timer),e.smsTime=60,e.sendSms=!0,e.$toast.fail("网络请求失败,请稍后重试")),e.timer=setInterval((function(){e.smsTime--,0===e.smsTime&&(clearInterval(e.timer),e.smsTime=60,e.sendSms=!0)}),1e3);case 11:case"end":return t.stop()}}),t)})))()},onSubmit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$axios.post("/login/cellphone?date=".concat(Date.now()),Object(c["a"])({},e));case 3:if(r=n.sent,a=r.data,502!==a.code){n.next=7;break}return n.abrupt("return",t.$toast.fail(a.msg));case 7:return Object(o["c"])("cookie",a.cookie),i["a"].commit("COOKIE",a.cookie),n.next=11,t.$router.replace({path:"".concat(t.$route.params.redirect?t.$route.params.redirect:"/home")});case 11:n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](0),t.$toast.fail(n.t0.response.data.msg);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})))()},onClickLeft:function(){this.$router.replace({name:"Home"})}},beforeDestroy:function(){clearInterval(this.timer)}},u=l,f=(n("b091"),n("2877")),p=Object(f["a"])(u,r,a,!1,null,"3c9e9de3",null);t["default"]=p.exports},fce3:function(e,t,n){var r=n("d039"),a=n("da84"),c=a.RegExp;e.exports=r((function(){var e=c(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-75dfc85a.fbc930aa.js.map