{"version":3,"sources":["webpack:///./src/views/songrcmd/index.vue?c2de","webpack:///./src/assets/2.jpg","webpack:///./src/views/songrcmd/index.vue?ca4a","webpack:///src/views/songrcmd/index.vue","webpack:///./src/views/songrcmd/index.vue?7e41","webpack:///./src/views/songrcmd/index.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","replace","name","_v","_s","_f","Date","now","ref","finished","onLoad","_l","song","index","key","id","playMusic","al","picUrl","alia","length","_e","RcmdReasons","ar","staticRenderFns","components","data","dailySongs","show","scrollTop","ids","created","getDailyRCMD","methods","$store","commit","push","component"],"mappings":"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","file":"js/chunk-163cfc48.fd3c6e3c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=23c64b2d&scoped=true&lang=less&\"","module.exports = __webpack_public_path__ + \"img/2.8f10618d.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"daily-recommend\"},[_c('header',{staticClass:\"header\"},[_c('van-icon',{staticClass:\"return-left\",attrs:{\"color\":\"#fff\",\"name\":\"arrow-left\",\"size\":\"0.533rem\"},on:{\"click\":function($event){return _vm.$router.replace({name:'Home'})}}}),_c('van-image',{attrs:{\"width\":\"10rem\",\"height\":\"6.667rem\",\"src\":require('@/assets/2.jpg'),\"alt\":\"Error\"}}),_c('div',{staticClass:\"time\"},[_c('div',{staticClass:\"time-wrap\"},[_c('span',{staticClass:\"today\"},[_vm._v(_vm._s(_vm._f(\"Today\")(Date.now()))+\" \")]),_c('span',{staticClass:\"month\"},[_vm._v(\" / \"+_vm._s(_vm._f(\"Month\")(Date.now())))])]),_c('span',{staticClass:\"luck\"},[_vm._v(\" 查看今日运势 \"),_c('van-icon',{attrs:{\"name\":\"arrow\",\"size\":\"0.312rem\"}})],1)]),_c('van-button',{staticClass:\"pastRCMD\",attrs:{\"round\":\"\",\"size\":\"mini\"}},[_vm._v(\" 历史日推 \"),_c('van-icon',{attrs:{\"name\":\"arrow\",\"size\":\"0.312rem\"}})],1)],1),_c('van-sticky',[_c('div',{staticClass:\"title\"},[_c('van-icon',{staticClass:\"play-icon\",attrs:{\"name\":\"play-circle\",\"color\":\"#E34D3B\",\"size\":\"0.533rem\"}}),_c('span',{staticClass:\"text\"},[_vm._v(\"播放全部\")]),_c('van-icon',{attrs:{\"name\":\"passed\",\"size\":\"0.533rem\"}})],1)]),_c('van-list',{ref:\"scrollTop\",attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad}},_vm._l((_vm.dailySongs),function(song,index){return _c('div',{key:song.id,staticClass:\"song-item\",on:{\"click\":function($event){return _vm.playMusic(song.id,index)}}},[_c('van-image',{attrs:{\"width\":\"1.333rem\",\"height\":\"1.333rem\",\"src\":song.al.picUrl}}),_c('div',{staticClass:\"song-info\"},[_c('div',{staticClass:\"song-name van-ellipsis\"},[_c('span',[_vm._v(_vm._s(song.name)+\"  \")]),(song.alia.length !== 0)?_c('span',{staticClass:\"alias\"},[_vm._v(\"( \"+_vm._s(song.alia[0])+\" )\")]):_vm._e()]),_c('div',{staticClass:\"author van-ellipsis\"},[(song.RcmdReasons)?_c('span',{staticClass:\"reasons\"},[_vm._v(_vm._s(song.RcmdReasons))]):_vm._e(),_vm._v(\" \"+_vm._s(song.ar[0].name)+\" - \"+_vm._s(song.al.name)+\" \")])]),_c('van-icon',{staticClass:\"iconfont icon-youcecaidan\",attrs:{\"size\":\"0.533rem\"}})],1)}),0),_c('playControlPanel')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"daily-recommend\">\r\n    <header class=\"header\">\r\n      <van-icon @click=\"$router.replace({name:'Home'})\" class=\"return-left\" color=\"#fff\" name=\"arrow-left\"\r\n                size=\"0.533rem\"/>\r\n      <van-image width=\"10rem\" height=\"6.667rem\" :src=\"require('@/assets/2.jpg')\" alt=\"Error\"/>\r\n      <div class=\"time\">\r\n        <div class=\"time-wrap\">\r\n          <span class=\"today\">{{ Date.now() | Today }} </span>\r\n          <span class=\"month\"> / {{ Date.now() | Month }}</span>\r\n        </div>\r\n        <span class=\"luck\">\r\n          查看今日运势\r\n          <van-icon name=\"arrow\" size=\"0.312rem\"></van-icon>\r\n        </span>\r\n      </div>\r\n      <van-button class=\"pastRCMD\" round size=\"mini\">\r\n        历史日推\r\n        <van-icon name=\"arrow\" size=\"0.312rem\"></van-icon>\r\n      </van-button>\r\n    </header>\r\n    <van-sticky>\r\n      <div class=\"title\">\r\n        <van-icon class=\"play-icon\" name=\"play-circle\" color=\"#E34D3B\" size=\"0.533rem\"/>\r\n        <span class=\"text\">播放全部</span>\r\n        <van-icon name=\"passed\" size=\"0.533rem\"/>\r\n      </div>\r\n    </van-sticky>\r\n    <van-list\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n        ref=\"scrollTop\"\r\n    >\r\n      <div class=\"song-item\" v-for=\"(song,index) in dailySongs\" :key=\"song.id\" @click=\"playMusic(song.id,index)\">\r\n        <van-image\r\n            width=\"1.333rem\"\r\n            height=\"1.333rem\"\r\n            :src=\"song.al.picUrl\"\r\n        />\r\n        <div class=\"song-info\">\r\n          <div class=\"song-name van-ellipsis\">\r\n            <span>{{ song.name }} &nbsp</span>\r\n            <span class=\"alias\" v-if=\"song.alia.length !== 0\">( {{ song.alia[0] }} )</span>\r\n          </div>\r\n          <div class=\"author van-ellipsis\">\r\n            <span v-if=\"song.RcmdReasons\" class=\"reasons\">{{ song.RcmdReasons }}</span>\r\n            {{ song.ar[0].name }} - {{ song.al.name }}\r\n          </div>\r\n        </div>\r\n        <van-icon class=\"iconfont icon-youcecaidan\" size=\"0.533rem\"/>\r\n      </div>\r\n    </van-list>\r\n    <playControlPanel/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport playControlPanel from '@/components/PlayControlPanel'\r\nimport {setItem, getItem} from \"@/utils/storage\";\r\n\r\nexport default {\r\n  name: \"songrcmd\",\r\n  components: {playControlPanel},\r\n  data() {\r\n    return {\r\n      finished: false,\r\n      dailySongs: [],\r\n      show: false,\r\n      // 保存滚动条\r\n      scrollTop: 0,\r\n      ids: []\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getDailyRCMD()\r\n  },\r\n\r\n  methods: {\r\n    // 跳转路由\r\n    playMusic(id, index) {\r\n      // console.log(id,index)\r\n      // 保存当前 歌曲在 播放列表中的 ID\r\n      this.$store.commit('CHANGEMUSICINDEX', index)\r\n      // 保存 播放列表\r\n      setItem('songList', this.dailySongs)\r\n      // 跳转播放界面\r\n      this.$router.push({name: 'PlayMusic', params: {id}})\r\n    },\r\n    onLoad() {\r\n      this.finished = true;\r\n    },\r\n    async getDailyRCMD() {\r\n      const {data} = await this.$axios('/recommend/songs')\r\n      let {dailySongs, recommendReasons} = data.data\r\n      dailySongs.forEach(song => {\r\n        recommendReasons.forEach(reasons => {\r\n          if (song.id === reasons.songId) {\r\n            song.RcmdReasons = reasons.reason\r\n          }\r\n        })\r\n      })\r\n      this.dailySongs = dailySongs\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.daily-recommend {\r\n  margin-bottom: 50px;\r\n\r\n  .play-control-panel {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n  }\r\n\r\n  .header {\r\n    position: relative;\r\n\r\n    .return-left {\r\n      position: absolute;\r\n      top: 20px;\r\n      left: 10px;\r\n      color: #ffffff !important;\r\n      z-index: 999999;\r\n    }\r\n\r\n    .img {\r\n      background: rgb(9, 16, 32);\r\n      background: linear-gradient(180deg, rgba(9, 16, 32, 0) 0%, rgba(142, 136, 146, 0) 0%, rgba(255, 255, 255, 1) 100%);\r\n    }\r\n\r\n    .time {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      color: #efefef;\r\n      text-align: center;\r\n\r\n      .time-wrap {\r\n        display: flex;\r\n        align-items: end;\r\n        margin-bottom: 10px;\r\n\r\n        .today {\r\n          font-size: 52px;\r\n          line-height: 52px;\r\n          margin-right: 8px;\r\n        }\r\n\r\n        .month {\r\n          font-size: 20px;\r\n          line-height: 32px;\r\n        }\r\n      }\r\n\r\n      .luck {\r\n        font-size: 12px;\r\n      }\r\n    }\r\n\r\n    .pastRCMD {\r\n      border: none;\r\n      padding-left: 10px !important;\r\n      position: absolute;\r\n      bottom: 20px;\r\n      right: 20px;\r\n      background-color: rgba(0, 0, 0, .1);\r\n      color: #f5f5f5;\r\n    }\r\n\r\n  }\r\n\r\n  .van-sticky {\r\n\r\n    .title {\r\n      display: flex;\r\n      background-color: #fff;\r\n      padding: 0 15px;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      height: 50px;\r\n\r\n      .play-icon {\r\n        margin-right: 20px;\r\n      }\r\n\r\n      .text {\r\n        flex: 1;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  .song-item {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 15px;\r\n    margin-bottom: 20px;\r\n\r\n    .van-image {\r\n      border-radius: 5px;\r\n      overflow: hidden;\r\n      box-shadow: 0 0 3px rgba(0, 0, 0, .3);\r\n    }\r\n\r\n    .song-info {\r\n      width: 240px;\r\n\r\n      .song-name {\r\n\r\n        .alias {\r\n          color: #a5a5a5;\r\n        }\r\n\r\n        margin-bottom: 5px;\r\n      }\r\n\r\n      .author {\r\n        font-size: 12px;\r\n        color: #a5a5a5;\r\n\r\n        .reasons {\r\n          background-color: #f5f5f5;\r\n          color: #ffc300;\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=23c64b2d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=23c64b2d&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23c64b2d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}