(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3af02524"],{"08fa":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("b0c0"),n("ac1f"),n("5319");var i=n("5d2d"),s={methods:{changeMusic:function(t,e){t!==this.musicId&&(Object(i["c"])("musicIndex",e),Object(i["c"])("musicId",t),this.$store.commit("CHANGEMUSICID",t),this.$store.commit("CHANGEMUSICINDEX",e),this.isMusicPlay&&this.$store.commit("ISMUSICPLAY",!this.isMusicPlay),this.$bus.$emit("getSongPlayUrl",t),"PlayMusic"===this.$route.name&&this.$router.replace({name:"PlayMusic",params:{id:t,i:e}}))}}}},"0cb2":function(t,e,n){var i=n("7b0b"),s=Math.floor,a="".replace,c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,r=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,o,u,l){var d=n+t.length,f=o.length,p=r;return void 0!==u&&(u=i(u),p=c),a.call(l,p,(function(i,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":c=u[a.slice(1,-1)];break;default:var r=+a;if(0===r)return i;if(r>f){var l=s(r/10);return 0===l?i:l<=f?void 0===o[l-1]?a.charAt(1):o[l-1]+a.charAt(1):i}c=o[r-1]}return void 0===c?"":c}))}},"107c":function(t,e,n){var i=n("d039"),s=n("da84"),a=s.RegExp;t.exports=i((function(){var t=a("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},"14c3":function(t,e,n){var i=n("825a"),s=n("1626"),a=n("c6b6"),c=n("9263");t.exports=function(t,e){var n=t.exec;if(s(n)){var r=n.call(t,e);return null!==r&&i(r),r}if("RegExp"===a(t))return c.call(t,e);throw TypeError("RegExp#exec called on incompatible receiver")}},5319:function(t,e,n){"use strict";var i=n("d784"),s=n("d039"),a=n("825a"),c=n("1626"),r=n("a691"),o=n("50c4"),u=n("577e"),l=n("1d80"),d=n("8aa5"),f=n("dc4a"),p=n("0cb2"),h=n("14c3"),g=n("b622"),v=g("replace"),m=Math.max,x=Math.min,b=function(t){return void 0===t?t:String(t)},y=function(){return"$0"==="a".replace(/./,"$0")}(),$=function(){return!!/./[v]&&""===/./[v]("a","$0")}(),I=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));i("replace",(function(t,e,n){var i=$?"$":"$0";return[function(t,n){var i=l(this),s=void 0==t?void 0:f(t,v);return s?s.call(t,i,n):e.call(u(i),t,n)},function(t,s){var l=a(this),f=u(t);if("string"===typeof s&&-1===s.indexOf(i)&&-1===s.indexOf("$<")){var g=n(e,l,f,s);if(g.done)return g.value}var v=c(s);v||(s=u(s));var y=l.global;if(y){var $=l.unicode;l.lastIndex=0}var I=[];while(1){var M=h(l,f);if(null===M)break;if(I.push(M),!y)break;var S=u(M[0]);""===S&&(l.lastIndex=d(f,o(l.lastIndex),$))}for(var w="",L=0,C=0;C<I.length;C++){M=I[C];for(var P=u(M[0]),_=m(x(r(M.index),f.length),0),E=[],R=1;R<M.length;R++)E.push(b(M[R]));var O=M.groups;if(v){var k=[P].concat(E,_,f);void 0!==O&&k.push(O);var A=u(s.apply(void 0,k))}else A=p(P,f,_,E,O,s);_>=L&&(w+=f.slice(L,_)+A,L=_+P.length)}return w+f.slice(L)}]}),!I||!y||$)},"53a9":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"play-song-list"},[n("h4",[t._v("当前播放"),n("span",{staticClass:"song-list-length"},[t._v("("+t._s(t.songList.length)+")")])]),n("van-row",{attrs:{type:"flex",justify:"space-between"}},[n("van-col",{attrs:{span:"6"}},[n("van-icon",{attrs:{name:"add-o",size:"0.426rem"}}),t._v(" 收藏全部 ")],1),n("van-col",{attrs:{span:"2"}},[n("van-icon",{attrs:{name:"delete-o",size:"0.426rem"},on:{click:t.emptyMusic}})],1)],1),n("van-list",t._l(t.songList,(function(e,i){return 0!==t.songList.length?n("div",{key:e.id,staticClass:"song-list",on:{click:function(n){return t.changeMusic(e.id,i)}}},[n("div",{staticClass:"title van-ellipsis",class:t.id===e.id?"active":""},[n("span",{staticClass:"custom-title"},[t._v(t._s(e.name))]),n("span",{staticClass:"custom-author"},[t._v(" - "+t._s(e.ar[0].name))])]),n("div",{staticClass:"right-icon",on:{click:function(n){return n.stopPropagation(),t.deleteSong(e.id,i)}}},[n("van-icon",{attrs:{name:"cross",size:"0.373rem"}})],1)]):t._e()})),0)],1)},s=[],a=n("5530"),c=n("2f62"),r=n("08fa"),o={name:"PlaySongList",mixins:[r["a"]],props:{songList:{require:!0}},computed:Object(a["a"])({},Object(c["b"])(["musicId","musicIndex"])),data:function(){return{id:0}},watch:{musicId:function(t){this.id=t}},created:function(){this.id=this.musicId},methods:{deleteSong:function(t,e){this.$bus.$emit("deleteMusic",t,e)},emptyMusic:function(){this.$bus.$emit("emptyMusic"),this.$bus.$emit("emptyMusic2")}}},u=o,l=(n("fa99"),n("2877")),d=Object(l["a"])(u,i,s,!1,null,"1617a197",null);e["a"]=d.exports},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9263:function(t,e,n){"use strict";var i=n("577e"),s=n("ad6d"),a=n("9f7f"),c=n("5692"),r=n("7c73"),o=n("69f3").get,u=n("fce3"),l=n("107c"),d=RegExp.prototype.exec,f=c("native-string-replace",String.prototype.replace),p=d,h=function(){var t=/a/,e=/b*/g;return d.call(t,"a"),d.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),g=a.UNSUPPORTED_Y||a.BROKEN_CARET,v=void 0!==/()??/.exec("")[1],m=h||v||g||u||l;m&&(p=function(t){var e,n,a,c,u,l,m,x=this,b=o(x),y=i(t),$=b.raw;if($)return $.lastIndex=x.lastIndex,e=p.call($,y),x.lastIndex=$.lastIndex,e;var I=b.groups,M=g&&x.sticky,S=s.call(x),w=x.source,L=0,C=y;if(M&&(S=S.replace("y",""),-1===S.indexOf("g")&&(S+="g"),C=y.slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==y.charAt(x.lastIndex-1))&&(w="(?: "+w+")",C=" "+C,L++),n=new RegExp("^(?:"+w+")",S)),v&&(n=new RegExp("^"+w+"$(?!\\s)",S)),h&&(a=x.lastIndex),c=d.call(M?n:x,C),M?c?(c.input=c.input.slice(L),c[0]=c[0].slice(L),c.index=x.lastIndex,x.lastIndex+=c[0].length):x.lastIndex=0:h&&c&&(x.lastIndex=x.global?c.index+c[0].length:a),v&&c&&c.length>1&&f.call(c[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(c[u]=void 0)})),c&&I)for(c.groups=l=r(null),u=0;u<I.length;u++)m=I[u],l[m[0]]=c[m[1]];return c}),t.exports=p},"9f7f":function(t,e,n){var i=n("d039"),s=n("da84"),a=s.RegExp;e.UNSUPPORTED_Y=i((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a7cb:function(t,e,n){},ac1f:function(t,e,n){"use strict";var i=n("23e7"),s=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},b0c0:function(t,e,n){var i=n("83ab"),s=n("5e77").EXISTS,a=n("9bf2").f,c=Function.prototype,r=c.toString,o=/^\s*function ([^ (]*)/,u="name";i&&!s&&a(c,u,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},b986:function(t,e,n){"use strict";n("fb62")},d2e4:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0!==t.songList.length?n("div",{staticClass:"play-control-panel"},[n("van-swipe",{ref:"musicSwipe",staticClass:"my-swipe",attrs:{"show-indicators":!1,duration:"1000","initial-swipe":t.musicIndex},on:{change:t.onSwipeChange}},t._l(t.songList,(function(e,i){return n("van-swipe-item",{key:e.id,on:{click:function(n){return t.playMusic(e.id,i)}}},[n("div",{staticClass:"left"},[n("div",{staticClass:"music-record",class:t.isMusicPlay?"recordAnimation":"recordAnimationPause"},[n("van-image",{attrs:{width:"0.9rem",height:"0.9rem",round:"",src:e.al.picUrl,"lazy-load":""}})],1),n("div",{staticClass:"music-info"},[n("span",{staticClass:"music-name van-ellipsis"},[t._v(t._s(e.name))]),n("span",{staticClass:"author van-ellipsis"},[t._v(" - "+t._s(e.ar[0].name))])])])])})),1),n("div",{staticClass:"right"},[n("van-circle",{attrs:{rate:t.curWidth,color:t.gradientColor,"layer-color":"#eee","stop-propagation":!1},scopedSlots:t._u([{key:"default",fn:function(){return[n("van-icon",{attrs:{name:t.isMusicPlay?"pause":"play",size:"0.50rem"},on:{click:t.changePlayState}})]},proxy:!0}],null,!1,3777630809),model:{value:t.currentRate,callback:function(e){t.currentRate=e},expression:"currentRate"}}),n("van-icon",{staticClass:"iconfont icon-24gl-playlistMusic",attrs:{size:"0.6rem"},on:{click:function(e){t.songListShow=!t.songListShow}}})],1),n("van-popup",{style:{height:"55%",width:"90%",margin:"0 5%"},attrs:{round:"",position:"bottom","safe-area-inset-bottom":"","get-container":"#app"},model:{value:t.songListShow,callback:function(e){t.songListShow=e},expression:"songListShow"}},[n("play-song-list",{attrs:{"song-list":t.songList}})],1)],1):t._e()},s=[],a=n("5530"),c=(n("a434"),n("5d2d")),r=n("2f62"),o=n("53a9"),u=n("08fa"),l={name:"playControlPanel",components:{PlaySongList:o["a"]},mixins:[u["a"]],data:function(){return{songList:[],currentRate:1,gradientColor:{"0%":"#3fecff","100%":"#6149f6"},songListShow:!1}},computed:Object(a["a"])({},Object(r["b"])(["musicIndex","isMusicPlay","playType","curWidth","musicId"])),activated:function(){this.$bus.$on("deleteMusic",this.deleteMusic),this.$bus.$on("emptyMusic",this.emptyMusic),this.songList=Object(c["a"])("songList")||[]},deactivated:function(){this.$bus.$off("deleteMusic",this.deleteMusic),this.$bus.$off("emptyMusic",this.emptyMusic)},methods:{changePlayState:function(){this.$store.commit("ISMUSICPLAY",!this.isMusicPlay),this.$bus.$emit("changePlayState",this.isMusicPlay)},onSwipeChange:function(t){var e=this.songList[t].id;this.changeMusic(e,t)},playMusic:function(t,e){this.$router.push({name:"PlayMusic",params:{id:t,index:e}})},deleteMusic:function(t,e){if(this.songList.splice(e,1),Object(c["c"])("songList",this.songList),0===this.songList.length)return this.songListShow=!1,Object(c["b"])("songList"),void this.$bus.$emit("removeSongList");t===this.musicId&&this.onSwipeChange(e)},emptyMusic:function(){var t=this;this.$dialog.confirm({message:"确定清空播放列表?"}).then((function(){t.songListShow=!1,Object(c["b"])("songList"),t.songList.splice(0,t.songList.length),t.$bus.$emit("removeSongList")})).catch((function(){t.$toast({message:"已取消",position:"top"})}))}}},d=l,f=(n("b986"),n("2877")),p=Object(f["a"])(d,i,s,!1,null,"28d39908",null);e["a"]=p.exports},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),s=n("9263"),a=n("d039"),c=n("b622"),r=n("9112"),o=c("species"),u=RegExp.prototype;t.exports=function(t,e,n,l){var d=c(t),f=!a((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=f&&!a((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!f||!p||n){var h=/./[d],g=e(d,""[t],(function(t,e,n,i,a){var c=e.exec;return c===s||c===u.exec?f&&!a?{done:!0,value:h.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}));i(String.prototype,t,g[0]),i(u,d,g[1])}l&&r(u[d],"sham",!0)}},fa99:function(t,e,n){"use strict";n("a7cb")},fb62:function(t,e,n){},fce3:function(t,e,n){var i=n("d039"),s=n("da84"),a=s.RegExp;t.exports=i((function(){var t=a(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-3af02524.767207e8.js.map